<odoo>
    <data>

        <!-- Contact members office to request a committee shift -->
        <record id="request_committee_shift" model="mail.template">
            <field
                name="name"
            >Contact members office to request a committee shift</field>
            <field name="model_id" ref="beesdoo_shift_swap.model_res_partner" />
            <field name="email_to">${ctx.get('email_to')}</field>
            <field name="auto_delete" eval="False" />
            <field name="subject">Committee shift request</field>
            <field name="body_html">
                <![CDATA[
                <div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                    Hello,
                    <br/><br/>
                    <p>
                        ${object.name} has requested to be unsubscribed to the following shift for his or her work in a committee:
                        ${ctx.get('shift').name}.
                    </p>
                    <p>
                        The following reason has been provided:
                        <div class="font-italic">
                            ${ctx.get("reason")}
                        </div>
                    </p>
                    <p>
                        If you want to validate this request, please <a href="/validate/committee/${object.id}/${ctx.get('shift').id}">click here</a>.
                    </p>
                    <br/><br/>
                    Regards,
                </div>
                ]]>
            </field>
        </record>

        <!-- Contact worker when committee shift is validated -->
        <record id="committee_shift_confirmation" model="mail.template">
            <field name="name">Contact worker when committee shift is validated</field>
            <field name="model_id" ref="beesdoo_shift_swap.model_res_partner" />
            <field name="partner_to">${ctx.get('partner_to').id}</field>
            <field name="auto_delete" eval="False" />
            <field name="subject">Your request has been validated</field>
            <field name="body_html">
                <![CDATA[
                <div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                    Hello ${ctx.get('partner_to').name},
                    <br/><br/>
                    <p>
                        Your unsubscription request related to shift ${ctx.get('asked_shift').name} for your work in
                        a committee has been validated. You don't have to attend it anymore.
                    </p>
                    <br/><br/>
                    Regards,
                </div>
                ]]>
            </field>
        </record>

    </data>
</odoo>
